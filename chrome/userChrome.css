@namespace xul 'http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul';

:root {
  --bg1: light-dark(#f5f6f6, #383838);
  --bg2: light-dark(#fff, #454545);
  --bg3: light-dark(rgba(50, 50, 50, 0.1), rgba(225, 225, 225, 0.1));
  --button-bgcolor: light-dark(rgba(70, 70, 70, 0.12), rgba(170, 170, 170, 0.15)) !important;
  --button-hover-bgcolor: light-dark(rgba(70, 70, 70, 0.1), rgba(170, 170, 170, 0.2)) !important;
  --button-active-bgcolor: light-dark(rgba(70, 70, 70, 0.15), rgba(170, 170, 170, 0.3)) !important;
  --in-content-primary-button-background: light-dark(#2b87fb, #3078ef) !important;
  --in-content-primary-button-background-hover: light-dark(#227cfb, #2566e1) !important;
  --in-content-primary-button-background-active: light-dark(#1c66e8, #225cca) !important;
  --in-content-primary-button-text-color: #fff !important;
  --button-primary-color: #fff !important;
  --button-primary-bgcolor: light-dark(#2b87fb, #3078ef) !important;
  --button-primary-hover-bgcolor: light-dark(#227cfb, #2566e1) !important;
  --button-primary-active-bgcolor: light-dark(#1c66e8, #225cca) !important;
  --in-content-button-background: light-dark(
    rgba(70, 70, 70, 0.1),
    rgba(170, 170, 170, 0.2)
  ) !important;
  --in-content-button-background-hover: light-dark(
    rgba(70, 70, 70, 0.15),
    rgba(170, 170, 170, 0.3)
  ) !important;
  --in-content-button-background-active: light-dark(
    rgba(70, 70, 70, 0.12),
    rgba(170, 170, 170, 0.15)
  ) !important;
  --link-color: light-dark(#4481f2, #1280fd) !important;
  --toolbar-field-focus-background-color: light-dark(
    rgba(155, 155, 155, 0.25),
    rgba(195, 195, 195, 0.25)
  ) !important;
  --urlbarView-result-button-hover-background-color: light-dark(
    rgba(155, 155, 155, 0.1),
    rgba(195, 195, 195, 0.1)
  ) !important;
  --toolbarbutton-icon-fill-attention: light-dark(#4481f2, #1280fd) !important;
  --arrowpanel-background: light-dark(#fff, #383838) !important;
  --focus-outline-color: transparent !important;
  --in-content-box-background: light-dark(
    rgba(155, 155, 155, 0.2),
    rgba(195, 195, 195, 0.2)
  ) !important;
  --in-content-box-border-color: transparent !important;
  --sidebar-background-color: transparent !important;
  --sidebar-border-color: transparent !important;
  --urlbarView-hover-background: light-dark(
    rgba(155, 155, 155, 0.2),
    rgba(195, 195, 195, 0.2)
  ) !important;
  --urlbarView-highlight-background: light-dark(
    rgba(155, 155, 155, 0.3),
    rgba(195, 195, 195, 0.3)
  ) !important;
  --urlbarView-highlight-color: light-dark(#000, #fff) !important;
  --input-bgcolor: light-dark(rgba(70, 70, 70, 0.1), rgba(170, 170, 170, 0.2)) !important;
  --input-border-color: transparent !important;
  scrollbar-color: #00000000 #00000000;
}

:root[tabsintitlebar] #titlebar {
  will-change: unset !important;
}

:root[macOSNativeFullscreen] #navigator-toolbox {
  transform: none !important;
}

:root[BookmarksToolbarOverlapsBrowser] {
  #browser {
    #tabbrowser-tabpanels {
      margin-top: 28px !important;
    }
  }

  .newTabBrowserPanel {
    padding-top: 0 !important;
  }

  #sidebar-box {
    margin-top: 28px !important;
    padding-top: 0 !important;
  }
}

.titlebar-buttonbox-container {
  display: none !important; /* MYMOD: Hide the window controls */
  position: absolute !important;
  left: 7px;
  top: 18px;
  visibility: visible;
}

#main-window:not([inDOMFullscreen]) {
  #appcontent browser {
    margin: 0 6px 6px;
    border-radius: 8px;
    clip-path: circle(100%);
    box-shadow: 0 1.5px 6px #00000026;
  }

  #browser {
    transition: 0.2s;
    clip-path: circle(100%);
    #tabbrowser-tabpanels {
      background-color: transparent !important;
    }
  }
}

#navigator-toolbox {
  background: none !important;
  border: none !important;
}

#nav-bar {
  padding: 12px 3px 9px 112px !important;
  margin-top: -2px !important;

  :is([data-extensionid='userchrome-toggle@joolee.nl']) .toolbarbutton-icon {
    list-style-image: url('resources/sidebars.svg');
    scale: 1.15;
  }

  :is([data-extensionid='userchrome-toggle@joolee.nl']) toolbarbutton {
    position: fixed !important;
    left: 84px;
    top: 10px;
  }
}

#TabsToolbar {
  margin: 0 145px -45.5px 454px !important;
  padding: 0 !important;
  background: none !important;
  max-height: 42px !important;
  z-index: 8;
  visibility: hidden;
}

.titlebar-spacer {
  display: none !important;
}

#nav-bar,
#PersonalToolbar {
  background: transparent !important;
}

#PersonalToolbar {
  position: fixed;
  width: calc(100% - 12px);
  margin: 0 6px 6px 6px !important;
  height: 48px !important;
  z-index: 1;
  bottom: -32px;
  opacity: 0;
  transition: 0.2s;
  padding-bottom: 0 !important;
  background-color: light-dark(rgba(255, 255, 255, 0.55), rgba(25, 25, 25, 0.65)) !important;
  backdrop-filter: blur(30px) !important;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.15) !important;
  border-bottom-left-radius: 10px !important;
  border-bottom-right-radius: 10px !important;
  visibility: visible;
  overflow: initial !important;
}

#PersonalToolbar:hover {
  bottom: 0px;
  opacity: 1;
  transition: 0.2s;
}

#PersonalToolbar::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -8px;
  height: 8px;
  background-color: transparent;
}

toolbarbutton.bookmark-item:not(.subviewbutton) {
  margin: 5px 0 !important;
}

#personal-toolbar-empty-description,
toolbarbutton.bookmark-item:not(.subviewbutton) {
  padding: 4px 7px !important;
}

:root:-moz-window-inactive {
  --sidebar-background-color: var(--bg1) !important;
  #nav-bar,
  #PersonalToolbar {
    background-color: var(--bg1) !important;
  }

  #browser {
    #tabbrowser-tabpanels {
      background-color: var(--bg1) !important;
    }
  }

  #nav-bar {
    z-index: -1;
    background: transparent !important;
  }
}

:root:-moz-window-inactive:hover #navigator-toolbox {
  z-index: 8;
}

:root[inDOMFullscreen] #TabsToolbar {
  display: none;
}

:root[inFullscreen='true'] {
  #nav-bar {
    padding-left: 33px !important;

    :is([data-extensionid='userchrome-toggle@joolee.nl']) toolbarbutton {
      left: 5px;
    }
  }

  #alltabs-button {
    left: 345px;
  }

  #TabsToolbar {
    margin-left: 375px !important;
  }
}

:root[customizing] {
  #downloads-button,
  #PanelUI-menu-button,
  #nav-bar-overflow-button,
  #unified-extensions-button {
    position: unset !important;
    scale: 1;
  }

  .panel-arrow,
  #PersonalToolbar,
  #nav-bar [id^='wrapper-customizableui-special-spring'] {
    display: none !important;
  }

  #nav-bar {
    max-height: 52px !important;
  }
}

/* urlbar */

#urlbar {
  --urlbar-box-bgcolor: var(--button-hover-bgcolor) !important;
  margin-top: 1px !important;
  margin-bottom: -8px !important;
  margin-left: 0 !important;
  max-width: 230px !important;
  left: 0 !important;
  top: 0 !important;
}

#urlbar-search-mode-indicator {
  margin-top: 3px !important;
  height: 22px !important;
}

#urlbar-background {
  height: 30px !important;
  border-radius: 6px !important;
  background: var(--button-hover-bgcolor) !important;
  transition: background 0.5s !important;
}

#urlbar:hover #urlbar-background,
#urlbar[open] #urlbar-background {
  background: var(--button-active-bgcolor) !important;
  border: none !important;
  box-shadow: none !important;
  transition: background 0.5s !important;
}

#urlbar-input-container {
  padding: 0 !important;
  height: 30px !important;
  border-radius: 6px !important;
}

#urlbar-input::placeholder,
.searchbar-textbox::placeholder {
  font-size: 12.5px !important;
  text-align: left !important;
}

#urlbar-input {
  text-align: center !important;
  margin-bottom: 1px !important;
}

#urlbar-input-container[pageproxystate='invalid'] #urlbar-input {
  mask-image: linear-gradient(to left, transparent, #fff 10ch);
}

:root:not([titlepreface='']) {
  .urlbarView {
    width: 170% !important;
    margin: 11px 0 0 -80px !important;
    border-radius: 6px !important;
    background-color: light-dark(rgba(255, 255, 255, 0.55), rgba(25, 25, 25, 0.65)) !important;
    backdrop-filter: blur(30px) !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.15) !important;
  }

  @media (prefers-color-scheme: dark) {
    .urlbarView {
      outline: 1px solid rgba(235, 235, 235, 0.2) !important;
      outline-offset: -1px !important;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.5) !important;
    }
  }

  #urlbar[focused='true']:not([suppress-focus-border]) > #urlbar-background {
    outline: none !important;
  }

  #urlbar > #urlbar-input-container {
    outline-style: solid !important;
    outline-color: transparent !important;
    outline-width: 18px !important;
  }

  #urlbar[focused] > #urlbar-input-container {
    outline-color: var(--link-color) !important;
    outline-width: 2px !important;
    outline-offset: -1px !important;
    transition: all 0.3s cubic-bezier(0.8, 0, 0, 0.8) !important;
  }
}

.urlbarView-body-outer {
  padding: 0 8px !important;
}

.urlbarView-body-inner {
  border: 0 !important;
}

.search-one-offs {
  background: transparent !important;
  border: none !important;
  padding: 8px !important;
}

.urlbar-page-action {
  height: 28px !important;
  border-radius: 6px !important;
  padding: 6px !important;
  margin-inline-end: calc(-16px - 2 * var(--urlbar-icon-padding));
  opacity: 0;
  transition: 0.2s;
}

#urlbar[open] .urlbar-page-action,
#urlbar:hover .urlbar-page-action,
.urlbar-page-action[open] {
  opacity: 1;
  margin-inline-end: 0 !important;
}

#main-window:has(#page-action-buttons > *[open]) {
  .urlbar-page-action {
    opacity: 1;
    margin-inline-end: 0 !important;
  }
}

#main-window:has(#identity-permission-box > *[open]) {
  #identity-permission-box {
    opacity: 1;
    margin-inline-start: 0 !important;
  }
}

#identity-permission-box,
#notification-popup-box,
#tracking-protection-icon-container {
  margin-inline-start: calc(-16px - 2 * var(--urlbar-icon-padding));
  opacity: 0;
  transition: 0.2s;
}

#urlbar[open] #tracking-protection-icon-container,
#urlbar:hover #tracking-protection-icon-container,
#tracking-protection-icon-container[open] {
  opacity: 1;
  margin-inline-start: 0 !important;
}

#urlbar[open] #identity-permission-box,
#urlbar[open] #notification-popup-box,
#urlbar:hover #identity-permission-box,
#urlbar:hover #notification-popup-box,
#identity-permission-box[open],
#notification-popup-box[open] {
  opacity: 1;
  margin-inline-start: 0 !important;
}

.urlbar-page-action:active,
#identity-permission-box:active,
#notification-popup-box:active,
#tracking-protection-icon-container:active {
  opacity: unset;
}

#urlbar:-moz-window-inactive .urlbar-page-action,
#urlbar:-moz-window-inactive #identity-permission-box,
#urlbar:-moz-window-inactive #notification-popup-box {
  opacity: 0 !important;
}

#urlbar:-moz-window-inactive:hover .urlbar-page-action,
#urlbar:-moz-window-inactive:hover #identity-permission-box,
#urlbar:-moz-window-inactive:hover #notification-popup-box {
  opacity: unset !important;
}

#urlbar-zoom-button {
  background: var(--button-hover-bgcolor) !important;
}

#urlbar:-moz-window-inactive {
  * {
    opacity: 78%;
  }
}

#urlbar[focused='true'] > #urlbar-background,
#searchbar:focus-within {
  box-shadow: none !important;
}

.urlbarView-row:is([type='bookmark'], [pinned])
  > .urlbarView-row-inner
  > .urlbarView-no-wrap
  > .urlbarView-type-icon {
  display: none !important;
}

#urlbar[open] .urlbarView {
  animation-name: panel-grow;
  animation-duration: 200ms;
}

#searchbar {
  min-height: 28px !important;
  background: var(--button-hover-bgcolor) !important;
  border-radius: 6px !important;
  border: none !important;
}

.search-go-button,
.search-panel-header,
.searchbar-separator {
  display: none !important;
}

#PopupSearchAutoComplete {
  --panel-background: var(--bg2) !important;
  --panel-border-color: transparent !important;
}

/* button */

.toggle-button {
  --toggle-dot-background-color-on-pressed: #fff !important;
}
#blocked-permissions-container,
#picture-in-picture-button,
#urlbar-go-button,
#private-browsing-indicator-with-label,
#reset-pbm-toolbar-button,
#nav-bar toolbarspring,
#firefox-view-button,
#fxa-toolbar-menu-button,
#userContext-icons,
#userContext-label,
#scrollbutton-up,
#scrollbutton-down,
#identity-permission-box:not([hasPermissions]) #permissions-granted-icon {
  display: none !important;
}

.close-icon {
  opacity: 0.8 !important;
}

.tab-icon-overlay {
  opacity: 0.9 !important;
}

.toolbarbutton-1,
#identity-permission-box,
#notification-popup-box,
#star-button,
#translations-button-circle-arrows,
#reader-mode-button > .urlbar-icon,
#translations-button > #translations-button-icon,
#shopping-sidebar-button > .urlbar-icon,
#identity-box,
#scrollbutton-up:not([disabled='true']),
#scrollbutton-down:not([disabled='true']),
#tracking-protection-icon-container {
  fill: light-dark(#525252, #c9c9cb) !important;
  fill-opacity: 1 !important;
}

.toolbarbutton-1:active,
#identity-permission-box:active,
#notification-popup-box:active,
#star-button:active,
#translations-button-circle-arrows:active,
#reader-mode-button:active > .urlbar-icon,
#translations-button:active > #translations-button-icon,
#shopping-sidebar-button:active > .urlbar-icon,
#identity-box:active,
#scrollbutton-up:not([disabled='true']):active,
#scrollbutton-down:not([disabled='true']):active,
#tracking-protection-icon-container:active {
  fill: light-dark(#2d2d2d, #ececec) !important;
}

#nav-bar-overflow-button {
  margin-left: -4px !important;
  margin-right: 4px !important;
}

#viewButton {
  border: none !important;
  background: none !important;
  border-radius: 4px !important;
}

#viewButton:hover {
  background-color: var(--button-hover-bgcolor) !important;
}

#viewButton[open] {
  background-color: var(--button-active-bgcolor) !important;
}

@media not (-moz-bool-pref: 'uc.tweak.thin_navbar') {
  #downloads-button {
    display: flex !important;
  }
}

#downloads-indicator-progress-outer {
  border: 1.5px solid light-dark(#525252, #c9c9cb) !important;
  width: 17px !important;
  height: 17px !important;
}

.webextension-browser-action {
  border-radius: 6px !important;
  margin-bottom: 4px !important;
  width: 30px !important;
}

#nav-bar .toolbarbutton-1 {
  max-height: 30px !important;
  margin-top: 1px !important;
}

#nav-bar .toolbarbutton-1 > .toolbarbutton-icon {
  height: 30px !important;
  width: 30px !important;
  padding: 6px !important;
  border-radius: 6px !important;
}

#tabs-newtab-button > .toolbarbutton-icon,
#new-tab-button > .toolbarbutton-icon {
  height: 32px !important;
  width: 32px !important;
  padding: 5px 7px !important;
  border-radius: 6px !important;
}

#tabs-newtab-button,
#new-tab-button {
  margin: 0 0 0 1px !important;
}

#PanelUI-menu-button {
  margin-left: -4px !important;
}

#PanelUI-menu-button > .toolbarbutton-badge-stack {
  height: 30px !important;
  width: 30px !important;
  border-radius: 6px !important;
  padding: 6px 5.5px 0 !important;
}

#PanelUI-menu-button .toolbarbutton-icon {
  height: 19px !important;
  width: 19px !important;
}

#downloads-button > .toolbarbutton-badge-stack {
  height: 30px !important;
  width: 30px !important;
  border-radius: 6px !important;
  padding: 6.5px 5.5px 5.5px 6.5px !important;
}

#page-action-buttons {
  margin-right: 28px !important;
  margin-bottom: 0 !important;
}

#identity-box {
  height: 28px !important;
  border-radius: 6px !important;
}

#identity-box:hover {
  background: rgba(70, 70, 70, 0.1) !important;
}

.identity-box-button {
  background: none !important;
}

#notification-popup-box {
  margin-top: 0 !important;
  background: none !important;
}

#tracking-protection-icon-container {
  height: 28px !important;
  border-radius: 6px !important;
}

#star-button[starred],
#translations-button-circle-arrows,
#reader-mode-button[readeractive] > .urlbar-icon,
#translations-button[translationsactive] > #translations-button-icon,
#shopping-sidebar-button[shoppingsidebaropen='true'] > .urlbar-icon {
  fill: light-dark(#525252, #c9c9cb) !important;
}

#star-button[starred] {
  animation-name: urlbar-zoom-reset-pulse;
  animation-duration: 250ms;
}

#appMenu-fullscreen-button2 .toolbarbutton-icon {
  background: none !important;
}

#appMenu-fullscreen-button2:hover {
  background: var(--button-hover-bgcolor) !important;
}

#appMenu-fullscreen-button2:active {
  background: var(--button-active-bgcolor) !important;
}

#appMenu-zoom-controls {
  border-top: 1px solid var(--bg3) !important;
}

.checkbox-check:not([native]) {
  appearance: none !important;
  background-color: transparent !important;
  border-radius: 2px !important;
  border: 2px solid rgba(165, 165, 165, 0.8) !important;
  &[checked] {
    background-color: light-dark(#4481f2, #1280fd) !important;
    background-image: url('resources/check.svg') !important;
    border: none !important;
    &:hover:active {
      background-color: light-dark(#0a4eb8, #417bde) !important;
    }
  }
}

/* tabs */

.tab-background {
  border: none !important;
  box-shadow: none !important;
  border-radius: 6px !important;
  max-height: 30px !important;
  min-height: 30px !important;
}

.tabbrowser-tab .tab-close-button {
  margin-right: -6px !important;
}

.tabbrowser-tab[selected]:not([pinned]) {
  min-width: 130px !important;
}

tab > stack {
  margin: 0 1px !important;
}

tab .tab-label {
  font-size: 13px !important;
  margin-bottom: 1px !important;
}

#tabbrowser-tabs {
  visibility: visible;
  margin-bottom: -1px !important;
  border-inline-start: none !important;
  padding-top: 45px !important; /* MYMOD: Increase the padding at the top */
}

:has(#tabbrowser-tabs[overflow]) {
  :is([data-extensionid='userchrome-toggle@joolee.nl']) toolbarbutton {
    pointer-events: none;
    opacity: 0.5;
  }
}

#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:nth-child(1 of :not([pinned], [hidden])) {
  margin-inline-start: 0 !important;
}

#tabbrowser-tabs[movingtab] {
  margin-bottom: -16px !important;
}

#alltabs-button > .toolbarbutton-badge-stack {
  height: 28px !important;
  width: 28px !important;
  padding: 6px 0 0 6px !important;
  border-radius: 6px !important;
}

#alltabs-button {
  visibility: visible;
  position: absolute !important;
  top: 8px;
  left: 424px;
  z-index: 5;
  height: 36px !important;
}

#new-tab-button > .toolbarbutton-icon,
#tabs-newtab-button > .toolbarbutton-icon {
  background: none !important;
}

#new-tab-button,
#tabs-newtab-button {
  visibility: visible;
  width: 30px;
  margin: 4px 3px -3px 3px !important;
  max-height: 30px !important;
  min-height: 30px !important;
  border-radius: 6px !important;
}

#tabs-newtab-button {
  margin: 4px 3px 3px 3px !important;
}

#new-tab-button:hover,
#tabs-newtab-button:hover {
  background: var(--button-hover-bgcolor) !important;
}

#new-tab-button:active,
#tabs-newtab-button:active {
  background: var(--button-active-bgcolor) !important;
}

.tabbrowser-tab[pinned] .tab-icon-image {
  margin-right: 5.5px !important;
}

.tab-content[pinned] {
  margin-right: 5px;
  padding-left: 8px !important;
  background-image: url('resources/pinned.svg');
  background-repeat: no-repeat;
  background-position: right bottom 10px;
  -moz-context-properties: fill, fill-opacity;
  fill: currentColor;
  fill-opacity: 0.6;
  & .tab-label-container {
    margin-right: 6px;
    mask-image: linear-gradient(to left, transparent, #fff 3ch);
  }
}

.tabbrowser-tab:not([selected]) .tab-close-button {
  display: none;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: flex !important;
}

.tab-background:not([selected]) {
  background: var(--button-hover-bgcolor) !important;
  transition: background 0.5s !important;
}

.tab-background[selected] {
  background: light-dark(rgba(70, 70, 70, 0.18), rgba(170, 170, 170, 0.4)) !important;
}

.tabbrowser-tab:hover .tab-background {
  background: var(--button-active-bgcolor) !important;
  transition: background 0.5s !important;
}

.tab-icon-overlay:not([pinned]) {
  height: 20px !important;
  width: 20px !important;
  border-radius: 50px !important;
}

.tab-icon-overlay {
  :is(
      :root[uidensity='compact'],
      #tabbrowser-tabs[secondarytext-unsupported],
      :root:not([uidensity='compact'])
        #tabbrowser-tabs:not([secondarytext-unsupported])
        .tabbrowser-tab:hover
    )
    .tab-icon-stack[indicator-replaces-favicon]
    > :not(&),
  :root:not([uidensity='compact'])
    #tabbrowser-tabs:not([secondarytext-unsupported])
    .tabbrowser-tab:not(:hover)
    &[indicator-replaces-favicon] {
    opacity: 1 !important;
  }
}

.tabbrowser-tab:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-icon-image {
  display: none !important;
}

.tab-secondary-label {
  display: none !important;
}

.tabbrowser-tab[usercontextid] > .tab-stack > .tab-background > .tab-context-line {
  min-height: 18px !important;
  max-width: 2px !important;
  margin: 6px 0 0 0 !important;
  border-radius: 2px !important;
}

/* popup */

menupopup,
panel[type='arrow'] {
  appearance: menupopup !important;
  background: transparent !important;
  --panel-background: var(--bg2) !important;
  --panel-border-color: transparent !important;
  --panel-border-radius: 6px !important;
  --panel-padding: 6px !important;
  --panel-separator-color: var(--bg3) !important;
  --arrowpanel-background: var(--bg2) !important;
  --arrowpanel-border-color: transparent !important;
  --arrowpanel-color: light-dark(#000, #fff) !important;
}

panel[type='arrow'] {
  --panel-background: transparent !important;
  --arrowpanel-background: transparent !important;
  --arrowpanel-border-radius: 0 !important;
}

@keyframes panel-grow {
  0% {
    transform: scaleX(0.96) scaleY(0.95);
  }
  100% {
    transform: scale(1);
  }
}

panelmultiview,
popupnotification {
  animation-name: panel-grow;
  animation-duration: 150ms;
}

.panel-arrowcontent {
  border: none !important;
}

.panel-arrow {
  stroke: transparent !important;
}

.proton-zap {
  border-image: none !important;
}

.panel-footer toolbarseparator,
.panel-header + toolbarseparator,
#identity-popup-mainView-panel-header + toolbarseparator,
#permission-popup-mainView-panel-header + toolbarseparator,
#protections-popup-mainView-panel-header-section + toolbarseparator {
  display: none !important;
}

.popup-internal-box,
#PopupAutoComplete > .autocomplete-richlistbox,
.menupopup-arrowscrollbox {
  background: transparent !important;
}

#tabContextMenu .menu-iconic-left,
#contentAreaContextMenu .menu-iconic-left {
  display: none;
}

menuitem,
menu {
  appearance: none !important;
  border-radius: 4px !important;
  color: light-dark(#000, #fff) !important;
  height: 22px !important;
}

menu {
  margin: 2px 0 !important;
}

menupopup > menuitem:is([selected='true']):not([disabled='false']) {
  background: none !important;
}

menupopup .bookmark-item {
  margin: 2px 0 !important;
  height: 22px !important;
}

menuitem[disabled='true'],
menupopup menu[disabled='true'],
.subviewbutton[disabled='true'],
.toolbarbutton-1[disabled='true'],
.protections-popup-category[disabled='true'],
.identity-popup-content-blocking-category[disabled='true'] {
  opacity: 0.5 !important;
}

menuitem[disabled='true'][_moz-menuactive],
menupopup menu[disabled='true'][_moz-menuactive] {
  background: none !important;
}

menupopup menu:hover:not([disabled='true']),
menupopup menuitem:hover:not([disabled='true']),
menupopup menu[_moz-menuactive]:not([disabled='true']),
menupopup menuitem[_moz-menuactive]:not([disabled='true']),
.protections-popup-footer-button:not([disabled='true']):hover,
#protections-popup-show-report-stack:hover .protections-popup-footer-button,
.protections-popup-category:not([disabled='true']):hover,
.identity-popup-content-blocking-category:not([disabled='true']):hover,
#PlacesToolbar .bookmark-item:is(:hover, [open], [_moz-menuactive]),
#downloadsPanel-mainView .download-state:hover {
  background: var(--button-hover-bgcolor) !important;
}

toolbarseparator,
menuseparator::before {
  border-top: 1px solid var(--bg3) !important;
}

menupopup menuseparator {
  border: none !important;
  margin: 0 !important;
}

toolbarseparator[orient='vertical'] {
  margin: 0 4px !important;
}

.dialogBox {
  margin-top: 80px !important;
  backdrop-filter: blur(30px) !important;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.15) !important;
}

#window-modal-dialog::backdrop {
  background: none !important;
}

window[role='dialog'] {
  background: light-dark(rgba(255, 255, 255, 0.55), rgba(25, 25, 25, 0.65)) !important;
  appearance: -moz-mac-unified-toolbar-window !important;
}

#editBookmarkPanelContent > input,
#editBookmarkPanelContent > hbox > input {
  appearance: none !important;
  background-color: var(--button-hover-bgcolor) !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 12px !important;
  height: 20px !important;
  border-radius: 2px !important;
  margin-top: 2px !important;
  margin-bottom: 2px !important;
}

#unified-extensions-view .panel-header,
#unified-extensions-view .panel-header + toolbarseparator,
#unified-extensions-view .unified-extensions-item-menu-button.subviewbutton {
  display: none !important;
}

#unified-extensions-view {
  --uei-icon-size: 16px !important;
  width: 22em !important;
}

/* misc */

@-moz-document url("chrome://browser/content/browser.xhtml")
{
  body {
    background: light-dark(#00000000, #00000033) !important;
  }
  :root:-moz-window-inactive body {
    background: var(--bg1) !important;
  }

  tree {
    background-color: var(--in-content-box-background) !important;
    border: none !important;
  }

  #editBookmarkPanelContent > input,
  #editBookmarkPanelContent > hbox > input {
    height: 35px !important;
    border-radius: 4px !important;
  }

  :root#main-window {
    min-width: 1000px !important;
    background-color: transparent !important;
    appearance: -moz-window-titlebar !important;
  }

  :root#main-window[chromehidden~='toolbar'] {
    min-width: unset !important;

    .browser-toolbar {
      display: none !important;
    }

    #appcontent browser {
      margin: 0 !important;
      border-radius: 0 !important;
      box-shadow: none !important;
    }
  }
}

treechildren::-moz-tree-row {
  outline: none !important;
  border-radius: 2px !important;
}

treechildren::-moz-tree-row(selected) {
  background: var(--button-hover-bgcolor) !important;
}

.item.selected > .item-title-container {
  background: var(--button-hover-bgcolor) !important;
  color: light-dark(#000, #fff) !important;
  border-radius: 2px !important;
}

treechildren::-moz-tree-image(selected),
treechildren::-moz-tree-twisty(selected),
treechildren::-moz-tree-cell-text(selected) {
  color: light-dark(#000, #fff) !important;
}

.titleIcon {
  background-color: transparent !important;
}

richlistbox {
  border: none !important;
}

#customization-panelWrapper > .panel-arrowcontent,
#customization-container {
  background-color: transparent !important;
}

#customization-panelWrapper > .panel-arrowbox > .panel-arrow[side='top'] {
  display: none !important;
}

#tab-notification-deck {
  position: fixed;
  top: 52px;
  right: 6px;
  z-index: 9;
}

#statuspanel-label {
  border: none !important;
  border-radius: 0 !important;
  margin: 6px !important;
  border-bottom-left-radius: 8px !important;
  #statuspanel:not([mirror]) > &:-moz-locale-dir(rtl),
  #statuspanel[mirror] > &:-moz-locale-dir(ltr) {
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 8px !important;
  }
}

.findbar-container,
#statuspanel-label {
  background-color: light-dark(rgba(255, 255, 255, 0.55), rgba(25, 25, 25, 0.65)) !important;
  backdrop-filter: blur(30px) !important;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.15) !important;
}

@media (prefers-color-scheme: dark) {
  #urlbar:is([breakout][breakout-extend]) #urlbar-background {
    outline: 1px solid rgba(235, 235, 235, 0.2) !important;
    outline-offset: -1px !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.5) !important;
  }

  .findbar-container,
  .dialogBox,
  #statuspanel-label {
    outline: 1px solid rgba(235, 235, 235, 0.2) !important;
    outline-offset: -1px !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.5) !important;
  }

  #PersonalToolbar {
    outline: 1px solid rgba(235, 235, 235, 0.2) !important;
    outline-offset: -1px !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.5) !important;
  }

  #identity-box:hover {
    background: rgba(170, 170, 170, 0.5) !important;
  }

  .swipe-nav-icon-circle-outline,
  .swipe-nav-icon-arrow {
    fill: #1280fd !important;
  }

  .swipe-nav-icon-circle {
    fill: #2d2d2d !important;
  }

  .swipe-nav-icon.will-navigate {
    > .swipe-nav-icon-circle-outline,
    > .swipe-nav-icon-arrow {
      fill: #2d2d2d !important;
    }

    > .swipe-nav-icon-circle {
      fill: #1280fd !important;
    }
  }
}

.devtools-side-splitter,
.devtools-horizontal-splitter {
  display: none !important;
}

.devtools-toolbox-side-iframe {
  &:first-child {
    margin-right: 0 !important;
  }
  &:last-child {
    margin-left: 0 !important;
  }
}

findbar {
  position: absolute !important;
  top: 0;
  right: 15px;
  width: calc(100% - 15px) !important;
  height: 70px !important;
  border: none !important;
  background: none !important;
  flex-direction: row-reverse;
  white-space: nowrap;
}

findbar::after {
  content: '';
  display: flex;
  flex-grow: 100;
}

.findbar-closebutton {
  position: fixed;
  right: 30px;
  margin-top: 7px !important;
  background: none !important;
  z-index: 1;
}

.findbar-closebutton > image {
  padding: 5px;
  max-height: 24px !important;
  max-width: 24px !important;
}

.findbar-closebutton:hover > image {
  background: var(--button-hover-bgcolor);
  border-radius: 5px;
}

.findbar-closebutton:active > image {
  background: var(--button-active-bgcolor);
}

.findbar-container {
  height: 42px !important;
  margin-right: 15px;
  overflow-inline: visible !important;
  flex-direction: row-reverse;
  border-radius: 8px !important;
}

.findbar-container > hbox {
  margin-right: 30px;
}

.findbar-textbox,
.findbar-textbox:-moz-window-inactive {
  background: none !important;
  width: 100px !important;
  border: none !important;
}

.findbar-textbox {
  outline-style: solid !important;
  outline-color: transparent !important;
  outline-width: 5px !important;
}

.findbar-textbox[focused],
.findbar-textbox:focus {
  outline-color: var(--link-color) !important;
  outline-width: 2px !important;
  transition: all 0.3s cubic-bezier(1, 0, 0, 1) !important;
  box-shadow: none !important;
}

#search-box,
xul|search-textbox {
  appearance: none !important;
  border-bottom: 1px solid rgba(185, 185, 185, 0.1) !important;
  border-radius: 6px !important;
  height: 28px !important;
  max-height: 28px !important;
  padding: 6px !important;
  background-color: light-dark(rgba(102, 105, 108, 0.1), rgba(165, 165, 165, 0.1)) !important;
}

#search-box[focused],
xul|search-textbox[focused] {
  outline: 2px solid var(--link-color) !important;
  outline-offset: -1px;
  transition: outline 100ms ease-out;
}

#searchbar,
#search-box,
xul|search-textbox,
[type='text'] {
  outline-style: solid !important;
  outline-color: transparent !important;
  outline-width: 18px !important;
}

#searchbar:focus-within,
#search-box[focused],
xul|search-textbox[focused],
[type='text']:focus-visible {
  outline-color: var(--link-color) !important;
  outline-width: 2px !important;
  outline-offset: -1px !important;
  transition: all 0.3s cubic-bezier(0.8, 0, 0, 0.8) !important;
}

#urlbar:hover #tracking-protection-icon-container:not(:hover, :active, [open])::after {
  content: '';
  position: absolute;
  display: block;
  height: 18px;
  right: -1px;
  top: 5px;
  border-right: 1px solid color-mix(in srgb, currentColor 20%, transparent);
}

.sidebar-panel {
  background-color: transparent !important;
}

/* icons */

#back-button {
  list-style-image: url('resources/back.svg') !important;
}

#forward-button {
  list-style-image: url('resources/forward.svg') !important;
}

#reload-button {
  list-style-image: url('resources/reload.svg') !important;
}

#stop-button {
  list-style-image: url('resources/stop.svg') !important;
}

#new-tab-button,
#tabs-newtab-button {
  list-style-image: url('resources/newtab.svg') !important;
}

#unified-extensions-button {
  list-style-image: url('resources/extension.svg') !important;
}

#tracking-protection-icon {
  list-style-image: url(chrome://browser/skin/tracking-protection.svg);
}

#sanitizeEverythingWarningIcon {
  list-style-image: url('chrome://global/skin/icons/warning.svg') !important;
  -moz-context-properties: fill;
  fill: #f9c63b;
  width: 48px !important;
  height: 48px !important;
}

.textbox-search-sign {
  display: inherit !important;
  width: 16px !important;
  height: 16px !important;
  opacity: 0.8 !important;
  -moz-context-properties: fill;
  fill: currentColor;
}

/* tweak */

@media (-moz-bool-pref: 'uc.tweak.thin_navbar') {
  :has(#tabbrowser-tabs[overflow]) {
    :is([data-extensionid='userchrome-toggle@joolee.nl']) toolbarbutton {
      pointer-events: unset;
      opacity: 1;
    }
  }

  :root[customizing] {
    #nav-bar [id^='wrapper-customizableui-special-spring'] {
      display: flex !important;
    }
  }

  :root[customizing][titlepreface=''] {
    #nav-bar [id^='wrapper-customizableui-special-spring'] {
      display: none !important;
    }
  }

  :root[titlepreface=''] {
    #downloads-button {
      display: flex !important;
    }
  }

  :root[inFullscreen]:not([titlepreface='']) {
    #nav-bar {
      padding-left: 37px !important;

      :is([data-extensionid='userchrome-toggle@joolee.nl']) toolbarbutton {
        left: 15px;
      }
    }
  }

  :root:not([titlepreface='']) {
    #alltabs-button:-moz-window-inactive,
    #new-tab-button:-moz-window-inactive {
      visibility: visible !important;
    }

    #sidebar-box {
      display: none !important;
    }

    #tab-notification-deck {
      top: 35px;
    }

    .titlebar-buttonbox-container {
      top: 14px;
      left: 6px;
    }

    #browser {
      margin-top: 0 !important;
    }

    #appcontent browser {
      border-top-left-radius: 0 !important;
      border-top-right-radius: 0 !important;
      box-shadow: 0 0 0.5px #00000033, 0 0 2px #00000012 !important;
    }

    #nav-bar {
      background-color: var(--lwt-accent-color) !important;
      height: 32px !important;
      margin: 6px 6px 0 6px !important;
      padding: 8px 0 8px 100px !important;
      border-top-left-radius: 8px !important;
      border-top-right-radius: 8px !important;
      box-shadow: 0 0 0.5px #00000033, 0 0 2px #00000012;

      .webextension-browser-action {
        height: 24px !important;
        width: 32px !important;
        margin: 3px 4px 3px -4px !important;
      }

      :is([data-extensionid='userchrome-toggle@joolee.nl']) .toolbarbutton-icon {
        scale: 1;
      }

      :is([data-extensionid='userchrome-toggle@joolee.nl']) toolbarbutton {
        left: 78px;
        top: 10px;
        margin: unset !important;
      }
    }

    #nav-bar[customizing] {
      background-color: transparent !important;
      box-shadow: none;
    }

    #nav-bar toolbarspring {
      display: unset !important;
    }

    #nav-bar .toolbarbutton-1 > .toolbarbutton-icon {
      height: 24px !important;
      width: 32px !important;
      padding: 3.5px !important;
      border-radius: 6px !important;
    }

    #downloads-button > .toolbarbutton-badge-stack {
      height: 24px !important;
      width: 32px !important;
      border-radius: 6px !important;
      padding: 4px 3.5px 3.5px 8px !important;
    }

    #PanelUI-menu-button {
      margin-left: 68px !important;
    }

    #PanelUI-menu-button > .toolbarbutton-badge-stack {
      height: 24px !important;
      width: 32px !important;
      border-radius: 6px !important;
      padding: 4px 4.5px 3.5px 7.5px !important;
    }

    #PanelUI-menu-button .toolbarbutton-icon {
      height: 17px !important;
      width: 17px !important;
    }

    #alltabs-button {
      left: unset;
      right: 48px;
      top: 10px;
      height: 24px !important;
      list-style-image: url('resources/alltabs.svg') !important;
    }

    #alltabs-button > .toolbarbutton-badge-stack {
      height: 24px !important;
      width: 32px !important;
      padding: 4px 6px 6px 8px !important;
      border-radius: 6px !important;
    }

    #new-tab-button {
      display: flex !important;
      position: fixed;
      right: 83px;
      top: 6px;
      width: 32px;
      max-height: 24px !important;
      min-height: 24px !important;
      border-radius: 6px !important;
    }

    #tracking-protection-icon-container,
    #notification-popup-box,
    #identity-box {
      height: 24px !important;
      margin-top: 0 !important;
      border-radius: 6px !important;
    }

    #page-action-buttons {
      margin-right: 0 !important;
    }

    #star-button-box {
      height: 24px !important;
      padding: 4px 6px 3px 6px !important;
      border-radius: 6px !important;
    }

    .urlbar-page-action {
      margin-inline-end: unset;
      opacity: unset;
    }

    .urlbar-page-action:not(#star-button-box) {
      height: 24px !important;
      padding: 4px 6px 3px 6px !important;
      border-radius: 6px !important;
      margin-inline-end: calc(-16px - 2 * var(--urlbar-icon-padding));
      opacity: 0;
      transition: 0.2s;
    }

    #urlbar[open] .urlbar-page-action,
    #urlbar:hover .urlbar-page-action,
    .urlbar-page-action[open] {
      opacity: 1;
      margin-inline-end: 0 !important;
    }

    #main-window:has(#page-action-buttons > *[open]) {
      .urlbar-page-action {
        opacity: 1;
        margin-inline-end: 0 !important;
      }
    }

    #urlbar {
      margin-top: -5px !important;
      max-width: unset !important;
    }

    #urlbar:is([breakout][breakout-extend]) {
      width: 100% !important;
    }

    #urlbar-search-mode-indicator {
      margin-top: 1px !important;
    }

    #urlbar:-moz-window-inactive #star-button-box {
      opacity: unset !important;
    }

    #urlbar-background,
    #urlbar-input-container {
      min-height: 26px !important;
      height: 26px !important;
      border-radius: 6px !important;
    }

    #urlbar-background,
    #urlbar:hover #urlbar-background {
      background-color: transparent !important;
    }

    .urlbarView {
      width: unset !important;
      margin: 5px 0 0 0 !important;
    }

    #urlbar:hover #tracking-protection-icon-container:not(:hover, :active, [open])::after {
      top: 3px;
    }

    .tab-background {
      border-radius: 12px !important;
      max-height: 36px !important;
      min-height: 36px !important;
    }

    tab .tab-label {
      font-size: 14px !important;
    }

    #tabbrowser-tabs[movingtab] {
      margin-bottom: -19px !important;
    }

    .tab-content[pinned] {
      background-position: right bottom 12px;
    }

    .tab-background[selected] {
      background: rgba(170, 170, 170, 0.4) !important;
    }

    @media (prefers-color-scheme: light) {
      .tab-background[selected] {
        background: linear-gradient(#f0f0f4, #ecedf2) !important;
        box-shadow: 0 1px 2px #00000026 !important;
      }

      .tabbrowser-tab:hover .tab-background[selected] {
        background: linear-gradient(#f0f0f4, #ecedf2) !important;
      }
    }

    #tabbrowser-tabs {
      position: fixed !important;
      margin-top: 0px !important;
      margin-bottom: -4px !important;
      padding-top: 32px !important;
      background-color: light-dark(rgba(255, 255, 255, 0.55), rgba(25, 25, 25, 0.65)) !important;
      backdrop-filter: blur(30px) !important;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.15) !important;
      top: 6px;
      left: -210px;
      width: 235px;
      height: calc(100vh - 12px) !important;
      border-radius: 8px !important;
      opacity: 0;
      transition: 0.2s;
      --scrollbox: -webkit-box;
    }

    #TabsToolbar[customizing='true'] #tabbrowser-tabs {
      display: none !important;
    }

    .tabbrowser-tab {
      margin-left: 3px !important;
    }

    .tabbrowser-tab[pinned] {
      margin-right: 5px !important;
    }

    .tab-background:not([selected]) {
      background: transparent !important;
    }

    .tabbrowser-tab:hover .tab-background:not([selected]) {
      background: var(--button-active-bgcolor) !important;
    }

    #tabbrowser-tabs[movingtab] > #tabbrowser-arrowscrollbox > .tabbrowser-tab {
      transform: none !important;
    }

    #tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])
      > #tabbrowser-arrowscrollbox
      > .tabbrowser-tab:nth-child(1 of :not([pinned], [hidden])) {
      margin-inline-start: 3px !important;
    }

    .tabbrowser-tab[usercontextid] > .tab-stack > .tab-background > .tab-context-line {
      margin: 9px 0 0 0 !important;
    }

    #tabs-newtab-button {
      width: 219px;
      margin-left: 6px !important;
      margin-bottom: 9px !important;
      max-height: 36px !important;
      min-height: 36px !important;
      border-radius: 12px !important;
    }

    :has(#tabbrowser-tabs:hover) {
      #tabbrowser-tabs {
        left: 4px;
        opacity: 1;
        transition: 0.2s;
      }

      .titlebar-buttonbox-container {
        visibility: hidden;
      }
    }

    #tabbrowser-tabs::before {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      left: -8px;
      width: 8px;
      background-color: transparent;
    }

    #tabbrowser-tabs:-moz-window-inactive {
      opacity: 0 !important;
    }

    .titlebar-buttonbox-container:-moz-window-inactive {
      visibility: visible !important;
    }

    @media (prefers-color-scheme: dark) {
      #tabbrowser-tabs {
        outline: 1px solid rgba(235, 235, 235, 0.2) !important;
        outline-offset: -1px !important;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.5) !important;
      }
    }
  }
}

:root[BookmarksToolbarOverlapsBrowser][titlepreface=''] {
  #navigator-toolbox {
    z-index: unset !important;
  }
}

:root[titlepreface='']:not([inDOMFullscreen]) {
  #browser,
  #tab-notification-deck,
  .global-notificationbox {
    margin-left: 211px;
  }

  #browser {
    transition: 0.2s;
    margin-top: -79px;
  }

  #appcontent browser {
    box-shadow: 1px 0 6px #00000026;
  }
}

:root:not([titlepreface='']) {
  #nav-bar .chromeclass-location {
    -moz-window-dragging: drag;
  }
}

:root:not([customizing])[titlepreface=''] {
  #TabsToolbar {
    margin: -24px 0 -45.5px 190px !important;
    max-height: 5px !important;
  }

  #tabbrowser-tabs {
    visibility: visible;
    margin-top: 65px !important;
    position: fixed !important;
    height: calc(100vh - 139px) !important;
    width: 207px;
    border-inline-start: none !important;
    left: 1px;
    -moz-window-dragging: drag;
    --scrollbox: -webkit-box;
  }

  .tab-background:not([selected]) {
    background: transparent !important;
  }

  .tabbrowser-tab:hover .tab-background:not([selected]) {
    background: var(--button-active-bgcolor) !important;
  }

  #new-tab-button {
    display: none !important;
  }

  #downloads-indicator-anchor {
    list-style-image: url('chrome://browser/skin/update-badge.svg') !important;
    transform: rotateX(180deg);
    scale: 0.9;
    opacity: 0.8;
  }

  #unified-extensions-button {
    list-style-image: url('chrome://mozapps/skin/extensions/extensionGeneric.svg') !important;
    scale: 0.7;
    opacity: 0.8;
  }

  #nav-bar-overflow-button {
    list-style-image: url('chrome://browser/skin/topsites.svg') !important;
    scale: 0.7;
    opacity: 0.8;
  }

  #PanelUI-menu-button {
    list-style-image: url('chrome://devtools/skin/images/browsers/firefox.svg') !important;
    opacity: 0.8;
  }
}

scrollbox {
  display: var(--scrollbox, inherit);
  -webkit-box-orient: vertical;
  overflow: auto;
}

:root[titlepreface=''] {
  .titlebar-buttonbox-container {
    left: 0;
    top: 16px;
  }

  #tab-notification-deck {
    top: 6px;
  }

  #nav-bar {
    padding: 12px 3px 8px 100px !important;
    height: 87px !important;

    :is([data-extensionid='userchrome-toggle@joolee.nl']) toolbarbutton {
      left: 72px;
      top: 8px;
    }
  }

  #urlbar {
    margin-top: 31px !important;
    margin-left: -205px !important;
    max-width: 201px !important;
    top: 5px !important;
  }

  #urlbar-search-mode-indicator {
    margin-top: 6px !important;
  }

  #urlbar-background {
    height: unset !important;
    min-height: 36px !important;
    border-radius: 12px !important;
  }

  #urlbar:hover #urlbar-background {
    background: var(--button-active-bgcolor) !important;
    border: none !important;
    box-shadow: none !important;
    transition: background 0.5s !important;
  }

  #urlbar[open] #urlbar-background {
    transition: none !important;
  }

  #urlbar-input-container {
    height: unset !important;
    min-height: 36px !important;
    border-radius: 12px !important;
  }

  #urlbar-input::placeholder,
  .searchbar-textbox::placeholder {
    font-size: 13px !important;
  }

  #urlbar[focused] > #urlbar-input-container {
    outline: none !important;
  }

  #urlbar > #urlbar-background {
    outline-style: solid !important;
    outline-color: transparent !important;
    outline-width: 18px !important;
  }

  #urlbar[focused='true']:not([suppress-focus-border]) > #urlbar-background {
    outline-color: var(--link-color) !important;
    outline-width: 2px !important;
    outline-offset: -1px !important;
    transition: all 0.3s cubic-bezier(0.8, 0, 0, 0.8) !important;
  }

  #urlbar:is([breakout][breakout-extend]) {
    top: 0 !important;
    max-width: 345px !important;
    z-index: 9 !important;
    animation-name: panel-grow;
    animation-duration: 150ms;

    #page-action-buttons {
      margin-right: 0 !important;
    }
  }

  #urlbar:is([breakout][breakout-extend]) #urlbar-background {
    background: light-dark(#f8f9f8, #2a2a2c) !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.25), 0 0 0 0.5px rgba(0, 0, 0, 0.15) !important;
  }

  .urlbarView {
    margin: 0 5px 5px 5px !important;
    background: none !important;
    border-radius: 0 !important;
    border-bottom-left-radius: 12px !important;
    border-bottom-right-radius: 12px !important;
    box-shadow: none !important;
    border: none !important;
    outline: none !important;
  }

  #urlbar[open] .urlbarView {
    animation-name: unset;
  }

  .urlbar-page-action {
    border-radius: 9px !important;
  }

  #identity-box,
  #tracking-protection-icon-container {
    margin-top: 3px !important;
    border-radius: 9px !important;
  }

  #PersonalToolbar {
    width: calc(100% - 223px);
    margin: 0 6px 6px 217px !important;
  }

  .tab-background {
    border-radius: 12px !important;
    max-height: 36px !important;
    min-height: 36px !important;
  }

  tab .tab-label {
    font-size: 14px !important;
  }

  #tabbrowser-tabs {
    margin-bottom: -4px !important;
    padding-inline-start: 0 !important;
    margin-inline-start: 4px !important;
  }

  #tabbrowser-tabs[movingtab] {
    margin-bottom: -19px !important;
  }

  #tabbrowser-tabs[movingtab] > #tabbrowser-arrowscrollbox > .tabbrowser-tab {
    transform: none !important;
  }

  .tabbrowser-tab {
    margin: 0 !important;
  }

  .tab-content[pinned] {
    background-position: right bottom 12px;
  }

  .tab-background[selected] {
    background: rgba(170, 170, 170, 0.4) !important;
  }

  @media (prefers-color-scheme: light) {
    .tab-background[selected] {
      background: linear-gradient(#f0f0f4, #ecedf2) !important;
      box-shadow: 0 1px 2px #00000026 !important;
    }

    .tabbrowser-tab:hover .tab-background[selected] {
      background: linear-gradient(#f0f0f4, #ecedf2) !important;
    }
  }

  .tabbrowser-tab[usercontextid] > .tab-stack > .tab-background > .tab-context-line {
    margin: 9px 0 0 0 !important;
  }

  #new-tab-button,
  #tabs-newtab-button {
    visibility: visible;
    width: 36px;
    margin: 4px 3px -3px 3px !important;
    max-height: 36px !important;
    min-height: 36px !important;
    border-radius: 12px !important;
  }

  #alltabs-button {
    display: none !important;
  }

  #page-action-buttons {
    margin-right: 0 !important;
  }

  #downloads-button,
  #PanelUI-menu-button,
  #nav-bar-overflow-button,
  #unified-extensions-button {
    position: fixed;
    left: 33px;
    bottom: 10px;
    scale: 0.8;
  }

  #unified-extensions-button {
    left: 111px;
  }

  #downloads-button {
    left: 152px;
  }

  #nav-bar-overflow-button {
    left: 75px;
    display: flex !important;
  }

  #reload-button,
  #stop-button {
    margin-top: -2px !important;
  }

  #back-button,
  #forward-button {
    margin-top: -3px !important;
  }

  #tabs-newtab-button {
    width: 207px;
  }

  #back-button {
    list-style-image: url('chrome://browser/skin/back.svg') !important;
  }

  #forward-button {
    list-style-image: url('chrome://browser/skin/forward.svg') !important;
  }
}

:root[inFullscreen][titlepreface=''] {
  #nav-bar {
    :is([data-extensionid='userchrome-toggle@joolee.nl']) toolbarbutton {
      left: 5px;
    }
  }
}
